{"ast":null,"code":"import axios from \"axios\";\n\n// Actions Types\nexport const SET_USER = \"SET_USER\";\nexport const USER_FAILURE_CONNECT = \"USER_FAILURE_CONNECT\";\n\n// Actions\nexport const setUser = user => ({\n  type: SET_USER,\n  payload: user\n});\nexport const userFailure = error => ({\n  type: USER_FAILURE_CONNECT,\n  payload: error\n});\n\n// Action async pour effectuer la connexion\nexport const loginUser = credentials => {\n  return dispatch => {\n    axios.post(\"http://localhost:3000/api/v1/user/login\", credentials).then(response => {\n      const user = response.data;\n      if (user) {\n        dispatch(setUser({\n          name: user.username,\n          email: user.email\n        }));\n      } else {\n        dispatch(userFailure(\"Invalid email or password\"));\n      }\n    }).catch(error => {\n      dispatch(userFailure(\"An error occurred while signing in\"));\n      console.error(\"Error occurred while signing in:\", error);\n    });\n  };\n};","map":{"version":3,"names":["axios","SET_USER","USER_FAILURE_CONNECT","setUser","user","type","payload","userFailure","error","loginUser","credentials","dispatch","post","then","response","data","name","username","email","catch","console"],"sources":["C:/Users/mathieu/Desktop/Argent-Bank-main/Front-End2/src/store/actions/actions.js"],"sourcesContent":["import axios from \"axios\";\n\n// Actions Types\nexport const SET_USER = \"SET_USER\";\nexport const USER_FAILURE_CONNECT = \"USER_FAILURE_CONNECT\";\n\n// Actions\nexport const setUser = (user) => ({\n  type: SET_USER,\n  payload: user,\n});\n\nexport const userFailure = (error) => ({\n  type: USER_FAILURE_CONNECT,\n  payload: error,\n});\n\n// Action async pour effectuer la connexion\nexport const loginUser = (credentials) => {\n  return (dispatch) => {\n    axios\n      .post(\"http://localhost:3000/api/v1/user/login\", credentials)\n      .then((response) => {\n        const user = response.data;\n        if (user) {\n          dispatch(setUser({ name: user.username, email: user.email }));\n        } else {\n          dispatch(userFailure(\"Invalid email or password\"));\n        }\n      })\n      .catch((error) => {\n        dispatch(userFailure(\"An error occurred while signing in\"));\n        console.error(\"Error occurred while signing in:\", error);\n      });\n  };\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,OAAO,MAAMC,QAAQ,GAAG,UAAU;AAClC,OAAO,MAAMC,oBAAoB,GAAG,sBAAsB;;AAE1D;AACA,OAAO,MAAMC,OAAO,GAAIC,IAAI,KAAM;EAChCC,IAAI,EAAEJ,QAAQ;EACdK,OAAO,EAAEF;AACX,CAAC,CAAC;AAEF,OAAO,MAAMG,WAAW,GAAIC,KAAK,KAAM;EACrCH,IAAI,EAAEH,oBAAoB;EAC1BI,OAAO,EAAEE;AACX,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMC,SAAS,GAAIC,WAAW,IAAK;EACxC,OAAQC,QAAQ,IAAK;IACnBX,KAAK,CACFY,IAAI,CAAC,yCAAyC,EAAEF,WAAW,CAAC,CAC5DG,IAAI,CAAEC,QAAQ,IAAK;MAClB,MAAMV,IAAI,GAAGU,QAAQ,CAACC,IAAI;MAC1B,IAAIX,IAAI,EAAE;QACRO,QAAQ,CAACR,OAAO,CAAC;UAAEa,IAAI,EAAEZ,IAAI,CAACa,QAAQ;UAAEC,KAAK,EAAEd,IAAI,CAACc;QAAM,CAAC,CAAC,CAAC;MAC/D,CAAC,MAAM;QACLP,QAAQ,CAACJ,WAAW,CAAC,2BAA2B,CAAC,CAAC;MACpD;IACF,CAAC,CAAC,CACDY,KAAK,CAAEX,KAAK,IAAK;MAChBG,QAAQ,CAACJ,WAAW,CAAC,oCAAoC,CAAC,CAAC;MAC3Da,OAAO,CAACZ,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IAC1D,CAAC,CAAC;EACN,CAAC;AACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}